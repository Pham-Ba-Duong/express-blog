<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Header section</title>
  </head>
  <body>
    <div>
      <div class="collapse top-search" id="collapseExample">
        <div class="card card-block">
          <div class="newsletter-widget text-center">
            <form class="form-inline">
              <input
                type="text"
                class="form-control"
                placeholder="What you are looking for?"
              />
              <button type="submit" class="btn btn-primary">
                <i class="fa fa-search"></i>
              </button>
            </form>
          </div>
          <!-- end newsletter -->
        </div>
      </div>
      <!-- end top-search -->
  
      <div class="topbar-section">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-4 col-md-6 col-sm-6 hidden-xs-down">
              <div class="topsocial">
                <a
                  href="https://www.facebook.com/P.B.Duong2K4BMT"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Facebook"
                  ><i class="fa fa-facebook"></i
                ></a>
                <a
                  href="https://x.com/PBDuong2K4BMT"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Twitter"
                  ><i class="fa fa-twitter"></i
                ></a>
                <a
                  href="https://www.instagram.com/pb.duong_soi/"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Instagram"
                  ><i class="fa fa-instagram"></i
                ></a>
                <a
                  href="#"
                  data-toggle="tooltip"
                  data-placement="bottom"
                  title="Google+"
                  ><i class="fa fa-google-plus"></i
                ></a>
              </div>
              <!-- end social -->
            </div>
            <!-- end col -->
  
            <div class="col-lg-4 hidden-md-down"></div>
            <!-- end col -->
  
            <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
              <div class="topsearch text-right">
                <a
                  data-toggle="collapse"
                  href="#collapseExample"
                  aria-expanded="false"
                  aria-controls="collapseExample"
                  ><i class="fa fa-search"></i> Search</a
                >
              </div>
              <!-- end search -->
            </div>
            <!-- end col -->
          </div>
          <!-- end row -->
        </div>
        <!-- end header-logo -->
      </div>
      <!-- end topbar -->
  
      <div class="header-section">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="logo">
                <a href=""
                  ><img src="/asset-blog/images/version/garden-logo.png" alt=""
                /></a>
              </div>
              <!-- end logo -->
            </div>
          </div>
          <!-- end row -->
        </div>
        <!-- end header-logo -->
      </div>
      <!-- end header -->
  
      <header class="header">
        <div class="container">
          <nav class="navbar navbar-inverse navbar-toggleable-md">
            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#Forest Timemenu"
              aria-controls="Forest Timemenu"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div
              class="collapse navbar-collapse justify-content-md-center"
              id="Forest Timemenu"
            >
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link color-green-hover" href="/">Home</a>
                </li>
                
                <!-- <li class="nav-item">
                  <a class="nav-link color-green-hover" href="/category">Category</a>
                </li> -->
  
                <div class="nav-category" style="display: flex;">
                </div>
  
                <li class="nav-item">
                  <a class="nav-link color-green-hover" href="/contact"
                    >Contact</a
                  >
                </li>
              </ul>
            </div>
          </nav>
        </div>
        <!-- end container -->
      </header>
      <!-- end header -->
    </div>
  </body>

  <script>
    const getCategory = async () => {
      try {
        const postApi = "http://localhost:8000/v1/category";
  
        const response = await fetch(postApi);
        const categories = await response.json();
        // console.log(categories);
        
  
        const html = categories
          .map(
            (item) => `
              <li class="nav-item">
                <a class="nav-link color-green-hover" id="${item._id}">
                  ${item.name}
                </a>
              </li>`
          )
          .join("");
  
        document.querySelector(".nav-category").innerHTML += html;

        // Thêm sự kiện click vào từng danh mục
        document.querySelector(".nav-category").addEventListener("click", async (event) => {
                event.preventDefault();
                if (event.target.tagName === "A") {
                const categoryId = event.target.getAttribute("id");
                await getPostsByCategory(categoryId);
                }
            });
      } catch (error) {
        console.error("Error fetching category data:", error);
      }
    };
  </script>
</html>
